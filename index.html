<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kanji Master 100 - Leer Japanse Tekens</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & Babel for in-browser JSX compilation -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap');
        
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #F0F4F8;
        }

        .perspective-1000 { perspective: 1000px; }
        .backface-hidden { backface-visibility: hidden; -webkit-backface-visibility: hidden; }
        .transform-style-3d { transform-style: preserve-3d; }
        .rotate-y-180 { transform: rotateY(180deg); }
        
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: #0f172a;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .kanji-font {
            font-family: "Hiragino Kaku Gothic Pro", "Meiryo", "MS PGothic", "Noto Sans JP", sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // Icons placeholder for Lucide in React
        const Icon = ({ name, size = 20, strokeWidth = 2, className = "" }) => {
            const [svg, setSvg] = useState("");
            useEffect(() => {
                if (window.lucide) {
                    const iconSvg = window.lucide.createIcons();
                }
            }, [name]);
            return <i data-lucide={name} style={{ width: size, height: size }} className={className}></i>;
        };

        const KANJI_DATA = [
            { id: 1, kanji: "日", type: "On", meaning: ["Dag", "Zon"], readings: "nichi, ni", combination: "日本", combReading: "Nippon", combMeaning: "Japan", sentence: "日本料理はとてもおいしいです。", romaji: "Nihon ryouri wa totemo oishii desu.", translation: "De Japanse keuken is erg lekker." },
            { id: 2, kanji: "一", type: "On", meaning: ["Eén"], readings: "ichi", combination: "一日", combReading: "Tsuitachi", combMeaning: "Eerste dag van de maand", sentence: "一日は大切な会議があります。", romaji: "Tsuitachi wa taisetsu na kaigi ga arimasu.", translation: "Op de eerste van de maand is er een belangrijke vergadering." },
            { id: 3, kanji: "国", type: "On", meaning: ["Land"], readings: "koku", combination: "中国", combReading: "Chuugoku", combMeaning: "China", sentence: "弟は今, 中国で働いています。", romaji: "Otouto wa ima, Chuugoku de hataraite imasu.", translation: "Mijn jongere broer werkt momenteel in China." },
            { id: 4, kanji: "会", type: "On", meaning: ["Ontmoeten", "Maatschappij"], readings: "kai", combination: "会社", combReading: "Kaisha", combMeaning: "Bedrijf", sentence: "会社まで電車で一時間かかります。", romaji: "Kaisha made densha de ichijikan kakarimasu.", translation: "Het duurt een uur met de trein naar het bedrijf." },
            { id: 5, kanji: "人", type: "Kun", meaning: ["Persoon", "Mens"], readings: "hito", combination: "大人", combReading: "Otona", combMeaning: "Volwassene", sentence: "この映画は大人も楽しめます。", romaji: "Kono eiga wa otona mo tanoshime masu.", translation: "Deze film is ook leuk voor volwassenen." },
            { id: 6, kanji: "年", type: "On", meaning: ["Jaar"], readings: "nen", combination: "来年", combReading: "Rainen", combMeaning: "Volgend jaar", sentence: "来年, 家族と日本へ行きたいです。", romaji: "Rainen, kazoku to Nihon e ikitai desu.", translation: "Volgend jaar wil ik met mijn familie naar Japan gaan." },
            { id: 7, kanji: "大", type: "On", meaning: ["Groot"], readings: "dai", combination: "大学", combReading: "Daigaku", combMeaning: "Universiteit", sentence: "私の姉は大学で経済を学んでいます。", romaji: "Watashi no ane wa daigaku de keizai o manande imasu.", translation: "Mijn oudere zus studeert economie aan de universiteit." },
            { id: 8, kanji: "十", type: "On", meaning: ["Tien"], readings: "juu", combination: "十分", combReading: "Juubun", combMeaning: "Voldoende", sentence: "時間は十分にあるので, 急がなくてもいいですよ。", romaji: "Jikan wa juubun ni aru node, isoganakute mo ii desu yo.", translation: "Er is voldoende tijd, dus je hoeft je niet te haasten." },
            { id: 9, kanji: "二", type: "On", meaning: ["Twee"], readings: "ni", combination: "二月", combReading: "Nigatsu", combMeaning: "Februari", sentence: "二月の北海道はとても寒いです。", romaji: "Nigatsu no Hokkaido wa totemo samui desu.", translation: "Hokkaido is erg koud in februari." },
            { id: 10, kanji: "本", type: "Kun", meaning: ["Boek", "Oorsprong"], readings: "moto", combination: "山本", combReading: "Yamamoto", combMeaning: "Japanse achternaam", sentence: "山本さんは私の新しい同僚です。", romaji: "Yamamoto-san wa watashi no atarashii douryou desu.", translation: "Meneer Yamamoto is mijn nieuwe collega." },
            { id: 11, kanji: "中", type: "On", meaning: ["Midden", "Binnen"], readings: "chuu", combination: "中心", combReading: "Chuushin", combMeaning: "Centrum", sentence: "駅はこの町の中心にあります。", romaji: "Eki wa kono machi no chuushin ni arimasu.", translation: "Het station bevindt zich in het centrum van deze stad." },
            { id: 12, kanji: "長", type: "Kun", meaning: ["Lang", "Leider"], readings: "naga(i)", combination: "社長", combReading: "Shachou", combMeaning: "Directeur", sentence: "社長と昼ごはんを食べました。", romaji: "Shachou to hirugohan o tabemashita.", translation: "Ik heb lunch gegeten met de directeur." },
            { id: 13, kanji: "出", type: "Kun", meaning: ["Eruit gaan", "Vertrekken"], readings: "de(ru)", combination: "出口", combReading: "Deguchi", combMeaning: "Uitgang", sentence: "出口はあちらです。", romaji: "Deguchi wa achira desu.", translation: "De uitgang is daar." },
            { id: 14, kanji: "三", type: "On", meaning: ["Drie"], readings: "san", combination: "三月", combReading: "Sangatsu", combMeaning: "Maart", sentence: "三月に卒業します。", romaji: "Sangatsu ni sotsugyou shimasu.", translation: "Ik studeer af in maart." },
            { id: 15, kanji: "時", type: "On", meaning: ["Tijd", "Uur"], readings: "ji", combination: "時間", combReading: "Jikan", combMeaning: "Tijd", sentence: "時間がありません。", romaji: "Jikan ga arimasen.", translation: "Er is geen tijd." },
            { id: 16, kanji: "行", type: "Kun", meaning: ["Gaan"], readings: "i(ku)", combination: "銀行", combReading: "Ginkou", combMeaning: "Bank", sentence: "銀行でお金をおろします。", romaji: "Ginkou de okane o oroshimasu.", translation: "Ik ga geld opnemen bij de bank." },
            { id: 17, kanji: "見", type: "Kun", meaning: ["Zien", "Kijken"], readings: "mi(ru)", combination: "意見", combReading: "Iken", combMeaning: "Mening", sentence: "あなたの意見を聞かせてください。", romaji: "Anata no iken o kikasete kudasai.", translation: "Laat me alsjeblieft jouw mening horen." },
            { id: 18, kanji: "月", type: "On", meaning: ["Maan", "Maand"], readings: "getsu, gatsu", combination: "毎月", combReading: "Maitsuki", combMeaning: "Elke maand", sentence: "毎月一回、映画を見ます。", romaji: "Maitsuki ikkai, eiga o mimasu.", translation: "Elke maand kijk ik één keer een film." },
            { id: 19, kanji: "分", type: "On", meaning: ["Minuut", "Begrijpen"], readings: "fun, bun", combination: "自分", combReading: "Jibun", combMeaning: "Zichzelf", sentence: "自分のことは自分でする。", romaji: "Jibun no koto wa jibun de suru.", translation: "Je moet je eigen zaken zelf regelen." },
            { id: 20, kanji: "後", type: "On", meaning: ["Achter", "Later"], readings: "go, kou", combination: "午後", combReading: "Gogo", combMeaning: "Namiddag", sentence: "午後はテニスをします。", romaji: "Gogo wa tenisu o shimasu.", translation: "In de middag ga ik tennissen." },
            { id: 21, kanji: "前", type: "On", meaning: ["Voor", "Vroeger"], readings: "zen", combination: "午前", combReading: "Gozen", combMeaning: "Ochtend", sentence: "午前中は忙しいです。", romaji: "Gozenchuu wa isogashii desu.", translation: "De hele ochtend ben ik druk." },
            { id: 22, kanji: "生", type: "On", meaning: ["Leven", "Geboorte"], readings: "sei, shou", combination: "先生", combReading: "Sensei", combMeaning: "Leraar", sentence: "先生、質問があります。", romaji: "Sensei, shitsumon ga arimasu.", translation: "Leraar, ik heb een vraag." },
            { id: 23, kanji: "五", type: "On", meaning: ["Vijf"], readings: "go", combination: "五分", combReading: "Gofun", combMeaning: "Vijf minuten", sentence: "あと五分待ってください。", romaji: "Ato gofun matte kudasai.", translation: "Wacht alsjeblieft nog vijf minuten." },
            { id: 24, kanji: "間", type: "On", meaning: ["Tussen", "Interval"], readings: "kan", combination: "仲間", combReading: "Nakama", combMeaning: "Kameraad", sentence: "彼は大切な仲間です。", romaji: "Kare wa taisetsu na nakama desu.", translation: "Hij is een belangrijke kameraad." },
            { id: 25, kanji: "上", type: "Kun", meaning: ["Boven", "Omhoog"], readings: "ue", combination: "上手", combReading: "Jouzu", combMeaning: "Vaardig", sentence: "彼女はピアノが上手です。", romaji: "Kanojo wa piano ga jouzu desu.", translation: "Zij is goed in piano spelen." },
            { id: 26, kanji: "下", type: "Kun", meaning: ["Onder", "Omlaag"], readings: "shita", combination: "地下鉄", combReading: "Chikatetsu", combMeaning: "Metro", sentence: "地下鉄で帰りましょう。", romaji: "Chikatetsu de kaerimashou.", translation: "Laten we met de metro naar huis gaan." },
            { id: 27, kanji: "四", type: "On", meaning: ["Vier"], readings: "shi", combination: "四月", combReading: "Shigatsu", combMeaning: "April", sentence: "四月から仕事が始まります。", romaji: "Shigatsu kara shigoto ga hajimarimasu.", translation: "Het werk begint in april." },
            { id: 28, kanji: "金", type: "Kun", meaning: ["Geld", "Goud"], readings: "kane", combination: "お金", combReading: "Okane", combMeaning: "Geld", sentence: "お金を貯めています。", romaji: "Okane o tamete imasu.", translation: "Ik ben geld aan het sparen." },
            { id: 29, kanji: "九", type: "On", meaning: ["Negen"], readings: "kyuu", combination: "九時", combReading: "Kuji", combMeaning: "Negen uur", sentence: "九時に家を出ます。", romaji: "Kuji ni ie o demasu.", translation: "Om negen uur verlaat ik het huis." },
            { id: 30, kanji: "入", type: "Kun", meaning: ["Binnen", "Ingaan"], readings: "hai(ru)", combination: "入口", combReading: "Iriguchi", combMeaning: "Ingang", sentence: "入口で靴を脱いでください。", romaji: "Iriguchi de kutsu o nuide kudasai.", translation: "Doe alsjeblieft je schoenen uit bij de ingang." },
            { id: 31, kanji: "学", type: "On", meaning: ["Studeren", "Leren"], readings: "gaku", combination: "学生", combReading: "Gakusei", combMeaning: "Student", sentence: "私は学生です。", romaji: "Watashi wa gakusei desu.", translation: "Ik ben een student." },
            { id: 32, kanji: "円", type: "On", meaning: ["Yen", "Cirkel"], readings: "en", combination: "百円", combReading: "Hyakuen", combMeaning: "Honderd yen", sentence: "これは百円です。", romaji: "Kore wa hyakuen desu.", translation: "Dit kost honderd yen." },
            { id: 33, kanji: "子", type: "Kun", meaning: ["Kind"], readings: "ko", combination: "子供", combReading: "Kodomo", combMeaning: "Kind", sentence: "子供が遊んでいます。", romaji: "Kodomo ga asonde imasu.", translation: "Het kind is aan het spelen." },
            { id: 34, kanji: "手", type: "Kun", meaning: ["Hand"], readings: "te", combination: "お手洗い", combReading: "Otearai", combMeaning: "Toilet", sentence: "お手洗いはどこですか。", romaji: "Otearai wa doko desu ka.", translation: "Waar is het toilet?" },
            { id: 35, kanji: "気", type: "On", meaning: ["Geest", "Energie"], readings: "ki", combination: "元気", combReading: "Genki", combMeaning: "Gezondheid", sentence: "お元気ですか。", romaji: "Ogenki desu ka.", translation: "Hoe gaat het ermee?" },
            { id: 36, kanji: "言", type: "Kun", meaning: ["Zeggen"], readings: "i(u)", combination: "言う", combReading: "Iu", combMeaning: "Zeggen", sentence: "何を言いましたか。", romaji: "Nani o iimashita ka.", translation: "Wat zei je?" },
            { id: 37, kanji: "何", type: "Kun", meaning: ["Wat"], readings: "nani, nan", combination: "何か", combReading: "Nanika", combMeaning: "Iets", sentence: "何か飲みますか。", romaji: "Nanika nomimasu ka.", translation: "Wil je iets drinken?" },
            { id: 38, kanji: "白", type: "Kun", meaning: ["Wit"], readings: "shiro(i)", combination: "白い", combReading: "Shiroi", combMeaning: "Wit", sentence: "白い靴を買いました。", romaji: "Shiroi kutsu o kaimashita.", translation: "Ik heb witte schoenen gekocht." },
            { id: 39, kanji: "天", type: "On", meaning: ["Hemel"], readings: "ten", combination: "天気", combReading: "Tenki", combMeaning: "Weer", sentence: "今日はいい天気ですね。", romaji: "Kyou wa iitenki desu ne.", translation: "Het is mooi weer vandaag, hè?" },
            { id: 40, kanji: "火", type: "Kun", meaning: ["Vuur"], readings: "hi", combination: "火曜日", combReading: "Kayoubi", combMeaning: "Dinsdag", sentence: "火曜日に会いましょう。", romaji: "Kayoubi ni aimashou.", translation: "Laten we dinsdag afspreken." },
            { id: 41, kanji: "右", type: "Kun", meaning: ["Rechts"], readings: "migi", combination: "右手", combReading: "Migite", combMeaning: "Rechterhand", sentence: "右手にペンを持っています。", romaji: "Migite ni pen o motte imasu.", translation: "Ik heb een pen in mijn rechterhand." },
            { id: 42, kanji: "左", type: "Kun", meaning: ["Links"], readings: "hidari", combination: "左側", combReading: "Hidarigawa", combMeaning: "Linkerkant", sentence: "左側に曲がってください。", romaji: "Hidarigawa ni magatte kudasai.", translation: "Sla linksaf alsjeblieft." },
            { id: 43, kanji: "休", type: "Kun", meaning: ["Rusten"], readings: "yasu(mu)", combination: "休み", combReading: "Yasumi", combMeaning: "Vakantie/Vrij", sentence: "明日は休みです。", romaji: "Ashita wa yasumi desu.", translation: "Morgen ben ik vrij." },
            { id: 44, kanji: "小", type: "Kun", meaning: ["Klein"], readings: "chii(sai)", combination: "小さい", combReading: "Chiisai", combMeaning: "Klein", sentence: "このカバンは小さいです。", romaji: "Kono kaban wa chiisai desu.", translation: "Deze tas is klein." },
            { id: 45, kanji: "車", type: "Kun", meaning: ["Auto"], readings: "kuruma", combination: "電車", combReading: "Densha", combMeaning: "Trein", sentence: "電車に乗ります。", romaji: "Densha ni norimasu.", translation: "Ik stap in de trein." },
            { id: 46, kanji: "見", type: "Kun", meaning: ["Kijken", "Zien"], readings: "mi(ru)", combination: "見せる", combReading: "Miseru", combMeaning: "Laten zien", sentence: "写真を見せてください。", romaji: "Shashin o misete kudasai.", translation: "Laten we de foto zien alsjeblieft." },
            { id: 47, kanji: "水", type: "Kun", meaning: ["Water"], readings: "mizu", combination: "水曜日", combReading: "Suiyoubi", combMeaning: "Woensdag", sentence: "水曜日に行きます。", romaji: "Suiyoubi ni ikimasu.", translation: "Ik ga op woensdag." },
            { id: 48, kanji: "木", type: "Kun", meaning: ["Boom", "Hout"], readings: "ki", combination: "木曜日", combReading: "Mokuyoubi", combMeaning: "Donderdag", sentence: "木曜日は暇です。", romaji: "Mokuyoubi wa hima desu.", translation: "Donderdag heb ik tijd." },
            { id: 49, kanji: "山", type: "Kun", meaning: ["Berg"], readings: "yama", combination: "富士山", combReading: "Fujisan", combMeaning: "Mt. Fuji", sentence: "富士山はきれいです。", romaji: "Fujisan wa kirei desu.", translation: "De berg Fuji is mooi." },
            { id: 50, kanji: "川", type: "Kun", meaning: ["Rivier"], readings: "kawa", combination: "川岸", combReading: "Kawagishi", combMeaning: "Rivieroever", sentence: "川岸を歩きます。", romaji: "Kawagishi o arukimasu.", translation: "Ik loop langs de rivieroever." },
            { id: 51, kanji: "土", type: "On", meaning: ["Grond", "Aarde"], readings: "do", combination: "土曜日", combReading: "Doyoubi", combMeaning: "Zaterdag", sentence: "土曜日は休みです。", romaji: "Doyoubi wa yasumi desu.", translation: "Zaterdag is een vrije dag." },
            { id: 52, kanji: "六", type: "On", meaning: ["Zes"], readings: "roku", combination: "六時", combReading: "Rokuji", combMeaning: "Zes uur", sentence: "六時に起きます。", romaji: "Rokuji ni okimasu.", translation: "Ik sta om zes uur op." },
            { id: 53, kanji: "七", type: "On", meaning: ["Zeven"], readings: "shichi, nana", combination: "七つ", combReading: "Nanatsu", combMeaning: "Zeven stuks", sentence: "リンゴを七つ買いました。", romaji: "Ringo o nanatsu kaimashita.", translation: "Ik heb zeven appels gekocht." },
            { id: 54, kanji: "八", type: "On", meaning: ["Acht"], readings: "hachi", combination: "八時", combReading: "Hachiji", combMeaning: "Acht uur", sentence: "八時に始まります。", romaji: "Hachiji ni hajimarimasu.", translation: "Het begint om acht uur." },
            { id: 55, kanji: "万", type: "On", meaning: ["Tien duizend"], readings: "man", combination: "一万円", combReading: "Ichimanen", combMeaning: "10.000 yen", sentence: "一万円札を持っています。", romaji: "Ichimanen satsu o motte imasu.", translation: "Ik heb een briefje van 10.000 yen." },
            { id: 56, kanji: "百", type: "On", meaning: ["Honderd"], readings: "hyaku", combination: "三百", combReading: "Sanbyaku", combMeaning: "Driehonderd", sentence: "これは三百円です。", romaji: "Kore wa sanbyaku en desu.", translation: "Dit kost 300 yen." },
            { id: 57, kanji: "千", type: "On", meaning: ["Duizend"], readings: "sen", combination: "三千", combReading: "Sanzen", combMeaning: "Drieduizend", sentence: "三千円払いました。", romaji: "Sanzen en haraimashita.", translation: "Ik heb 3000 yen betaald." },
            { id: 58, kanji: "聞", type: "Kun", meaning: ["Horen", "Luisteren"], readings: "ki(ku)", combination: "新聞", combReading: "Shinbun", combMeaning: "Krant", sentence: "新聞を読みます。", romaji: "Shinbun o yomimasu.", translation: "Ik lees de krant." },
            { id: 59, kanji: "話", type: "Kun", meaning: ["Praten", "Spreken"], readings: "hana(su)", combination: "電話", combReading: "Denwa", combMeaning: "Telefoon", sentence: "電話で話します。", romaji: "Denwa de hanashimasu.", translation: "Ik praat aan de telefoon." },
            { id: 60, kanji: "読", type: "Kun", meaning: ["Lezen"], readings: "yo(mu)", combination: "読書", combReading: "Dokusho", combMeaning: "Lezen", sentence: "読書が好きです。", romaji: "Dokusho ga suki desu.", translation: "Ik hou van lezen." },
            { id: 61, kanji: "書", type: "Kun", meaning: ["Schrijven"], readings: "ka(ku)", combination: "辞書", combReading: "Jisho", combMeaning: "Woordenboek", sentence: "辞書を使います。", romaji: "Jisho o tsukaimasu.", translation: "Ik gebruik een woordenboek." },
            { id: 62, kanji: "友", type: "Kun", meaning: ["Vriend"], readings: "tomo", combination: "友達", combReading: "Tomodachi", combMeaning: "Vriend", sentence: "友達と遊びます。", romaji: "Tomodachi to asobimasu.", translation: "Ik speel met vrienden." },
            { id: 63, kanji: "名", type: "On", meaning: ["Naam"], readings: "mei", combination: "名前", combReading: "Namae", combMeaning: "Naam", sentence: "名前を書いてください。", romaji: "Namae o kaite kudasai.", translation: "Schrijf je naam op alsjeblieft." },
            { id: 64, kanji: "来", type: "Kun", meaning: ["Komen"], readings: "ku(ru)", combination: "来週", combReading: "Raishuu", combMeaning: "Volgende week", sentence: "来週会いましょう。", romaji: "Raishuu aimashou.", translation: "Laten we volgende week afspreken." },
            { id: 65, kanji: "口", type: "Kun", meaning: ["Mond"], readings: "kuchi", combination: "人口", combReading: "Jinkou", combMeaning: "Bevolking", sentence: "日本の人口は多いです。", romaji: "Nihon no jinkou wa ooi desu.", translation: "De bevolking van Japan is groot." },
            { id: 66, kanji: "目", type: "Kun", meaning: ["Oog"], readings: "me", combination: "目的", combReading: "Mokuteki", combMeaning: "Doel", sentence: "目的は何ですか。", romaji: "Mokuteki wa nan desu ka.", translation: "Wat is het doel?" },
            { id: 67, kanji: "耳", type: "Kun", meaning: ["Oor"], readings: "mimi", combination: "耳鳴り", combReading: "Miminari", combMeaning: "Oorsuizen", sentence: "耳鳴りがします。", romaji: "Miminari ga shimasu.", translation: "Ik heb last van oorsuizen." },
            { id: 68, kanji: "足", type: "Kun", meaning: ["Voet", "Been"], readings: "ashi", combination: "足りる", combReading: "Tariru", combMeaning: "Voldoende zijn", sentence: "お金が足りますか。", romaji: "Okane ga tarimasu ka.", translation: "Heb je genoeg geld?" },
            { id: 69, kanji: "立", type: "Kun", meaning: ["Staan"], readings: "ta(tsu)", combination: "国立", combReading: "Kokuritsu", combMeaning: "Nationaal", sentence: "国立大学に通います。", romaji: "Kokuritsu daigaku ni kayouimasu.", translation: "Ik ga naar een nationale universiteit." },
            { id: 70, kanji: "夕", type: "Kun", meaning: ["Avond"], readings: "yuu", combination: "夕食", combReading: "Yuushoku", combMeaning: "Diner", sentence: "夕食を食べましょう。", romaji: "Yuushoku o tabemashou.", translation: "Laten we gaan eten." },
            { id: 71, kanji: "雨", type: "Kun", meaning: ["Regen"], readings: "ame", combination: "大雨", combReading: "Ooume", combMeaning: "Zware regen", sentence: "今日は大雨です。", romaji: "Kyou wa ooume desu.", translation: "Het regent hard vandaag." },
            { id: 72, kanji: "外", type: "Kun", meaning: ["Buiten"], readings: "soto", combination: "外国", combReading: "Gaikoku", combMeaning: "Buitenland", sentence: "外国に行きたいです。", romaji: "Gaikoku ni ikitai desu.", translation: "Ik wil naar het buitenland gaan." },
            { id: 73, kanji: "男", type: "Kun", meaning: ["Man"], readings: "otoko", combination: "男の子", combReading: "Otokonoko", combMeaning: "Jongen", sentence: "男の子が走っています。", romaji: "Otokonoko ga hashitte imasu.", translation: "Er rent een jongen." },
            { id: 74, kanji: "女", type: "Kun", meaning: ["Vrouw"], readings: "onna", combination: "女の子", combReading: "Onnanoko", combMeaning: "Meisje", sentence: "女の子が笑っています。", romaji: "Onnanoko ga waratte imasu.", translation: "Het meisje lacht." },
            { id: 75, kanji: "古", type: "Kun", meaning: ["Oud"], readings: "furu(i)", combination: "中古", combReading: "Chuuko", combMeaning: "Tweedehands", sentence: "中古車を買いました。", romaji: "Chuukosha o kaimashita.", translation: "Ik heb een tweedehands auto gekocht." },
            { id: 76, kanji: "新", type: "Kun", meaning: ["Nieuw"], readings: "atara(shii)", combination: "新聞", combReading: "Shinbun", combMeaning: "Krant", sentence: "新聞を読みます。", romaji: "Shinbun o yomimasu.", translation: "Ik lees de krant." },
            { id: 77, kanji: "多", type: "Kun", meaning: ["Veel"], readings: "oo(i)", combination: "多分", combReading: "Tabun", combMeaning: "Misschien", sentence: "多分大丈夫です。", romaji: "Tabun daijoubu desu.", translation: "Het is waarschijnlijk in orde." },
            { id: 78, kanji: "少", type: "Kun", meaning: ["Weinig"], readings: "suku(nai)", combination: "少し", combReading: "Sukoshi", combMeaning: "Een beetje", sentence: "少し疲れました。", romaji: "Sukoshi tsukaremashita.", translation: "Ik ben een beetje moe." },
            { id: 79, kanji: "広", type: "Kun", meaning: ["Breed", "Groot"], readings: "hiro(i)", combination: "広場", combReading: "Hiroba", combMeaning: "Plein", sentence: "広場で待ち合わせます。", romaji: "Hiroba de machiawasemasu.", translation: "We spreken af op het plein." },
            { id: 80, kanji: "早", type: "Kun", meaning: ["Vroeg"], readings: "haya(i)", combination: "早速", combReading: "Sassoku", combMeaning: "Onmiddellijk", sentence: "早速始めましょう。", romaji: "Sassoku hajimemashou.", translation: "Laten we meteen beginnen." },
            { id: 81, kanji: "高", type: "Kun", meaning: ["Hoog", "Duur"], readings: "taka(i)", combination: "高校", combReading: "Koukou", combMeaning: "Middelbare school", sentence: "高校生です。", romaji: "Koukousei desu.", translation: "Ik ben een middelbare scholier." },
            { id: 82, kanji: "安", type: "Kun", meaning: ["Goedkoop", "Rustig"], readings: "yasu(i)", combination: "安心", combReading: "Anshin", combMeaning: "Opluchting", sentence: "それを聞いて安心しました。", romaji: "Sore o kiite anshin shimashita.", translation: "Ik was opgelucht dat te horen." },
            { id: 83, kanji: "店", type: "Kun", meaning: ["Winkel"], readings: "mise", combination: "店員", combReading: "Tenin", combMeaning: "Winkelmedewerker", sentence: "店員に聞きます。", romaji: "Tenin ni kikimasu.", translation: "Ik vraag het aan de medewerker." },
            { id: 84, kanji: "花", type: "Kun", meaning: ["Bloem"], readings: "hana", combination: "花火", combReading: "Hanabi", combMeaning: "Vuurwerk", sentence: "花火がとてもきれいです。", romaji: "Hanabi ga totemo kirei desu.", translation: "Het vuurwerk is erg mooi." },
            { id: 85, kanji: "校", type: "On", meaning: ["School"], readings: "kou", combination: "学校", combReading: "Gakkou", combMeaning: "School", sentence: "学校に行きます。", romaji: "Gakkou ni ikimasu.", translation: "Ik ga naar school." },
            { id: 86, kanji: "道", type: "Kun", meaning: ["Weg", "Pad"], readings: "michi", combination: "水道", combReading: "Suidou", combMeaning: "Waterleiding", sentence: "水道の水を飲みます。", romaji: "Suidou no mizu o nomimasu.", translation: "Ik drink kraanwater." },
            { id: 87, kanji: "父", type: "Kun", meaning: ["Vader"], readings: "chichi", combination: "お父さん", combReading: "Otousan", combMeaning: "Vader (beleefd)", sentence: "お父さんは元気ですか。", romaji: "Otousan wa genki desu ka.", translation: "Hoe gaat het met je vader?" },
            { id: 88, kanji: "母", type: "Kun", meaning: ["Moeder"], readings: "haha", combination: "お母さん", combReading: "Okaasan", combMeaning: "Moeder (beleefd)", sentence: "お母さんに電話します。", romaji: "Okaasan ni denwa shimasu.", translation: "Ik bel mijn moeder." },
            { id: 89, kanji: "天", type: "On", meaning: ["Hemel"], readings: "ten", combination: "天才", combReading: "Tensai", combMeaning: "Genie", sentence: "彼は天才です。", romaji: "Kare wa tensai desu.", translation: "Hij is een genie." },
            { id: 90, kanji: "地", type: "On", meaning: ["Grond", "Aarde"], readings: "chi, ji", combination: "地下", combReading: "Chika", combMeaning: "Ondergronds", sentence: "地下にあります。", romaji: "Chika ni arimasu.", translation: "Het bevindt zich in de kelder." },
            { id: 91, kanji: "京", type: "On", meaning: ["Hoofdstad"], readings: "kyou", combination: "東京", combReading: "Toukyou", combMeaning: "Tokyo", sentence: "東京はとても広いです。", romaji: "Toukyou wa totemo hiroi desu.", translation: "Tokyo is erg groot." },
            { id: 92, kanji: "都", type: "On", meaning: ["Metropool"], readings: "to", combination: "京都", combReading: "Kyouto", combMeaning: "Kyoto", sentence: "京都はお寺が多いです。", romaji: "Kyouto wa otera ga ooi desu.", translation: "Kyoto heeft veel tempels." },
            { id: 93, kanji: "和", type: "On", meaning: ["Vrede", "Japans"], readings: "wa", combination: "和食", combReading: "Washoku", combMeaning: "Japanse keuken", sentence: "和食が好きです。", romaji: "Washoku ga suki desu.", translation: "Ik hou van de Japanse keuken." },
            { id: 94, kanji: "寺", type: "Kun", meaning: ["Tempel"], readings: "tera", combination: "お寺", combReading: "Otera", combMeaning: "Tempel", sentence: "お寺にお参りします。", romaji: "Otera ni omairi shimasu.", translation: "Ik bezoek een tempel." },
            { id: 95, kanji: "社", type: "On", meaning: ["Bedrijf", "Altaar"], readings: "sha", combination: "神社", combReading: "Jinja", combMeaning: "Shinto-altaar", sentence: "神社に行きます。", romaji: "Jinja ni ikimasu.", translation: "Ik ga naar een Shinto-altaar." },
            { id: 96, kanji: "食", type: "Kun", meaning: ["Eten"], readings: "ta(beru)", combination: "食べ物", combReading: "Tabemono", combMeaning: "Eten", sentence: "食べ物を買います。", romaji: "Tabemono o kaimasu.", translation: "Ik koop eten." },
            { id: 97, kanji: "飲", type: "Kun", meaning: ["Drinken"], readings: "no(mu)", combination: "飲み物", combReading: "Nomimono", combMeaning: "Drankje", sentence: "飲み物をください。", romaji: "Nomimono o kudasai.", translation: "Een drankje, alsjeblieft." },
            { id: 98, kanji: "買", type: "Kun", meaning: ["Kopen"], readings: "ka(u)", combination: "買い物", combReading: "Kaimono", combMeaning: "Winkelen", sentence: "買い物に行きます。", romaji: "Kaimono ni ikimasu.", translation: "Ik ga winkelen." },
            { id: 99, kanji: "長", type: "Kun", meaning: ["Lang", "Leider"], readings: "naga(i)", combination: "長男", combReading: "Chounan", combMeaning: "Oudste zoon", sentence: "彼は長男です。", romaji: "Kare wa chounan desu.", translation: "Hij is de oudste zoon." },
            { id: 100, kanji: "字", type: "On", meaning: ["Letter", "Teken"], readings: "ji", combination: "漢字", combReading: "Kanji", combMeaning: "Kanji", sentence: "漢字は面白いです。", romaji: "Kanji wa omoshiroi desu.", translation: "Kanji is interessant." }
        ];

        const KanjiTile = ({ item, onPause, onDelete }) => {
            const [isFlipped, setIsFlipped] = useState(false);

            const theme = item.type === 'On' ? {
                bg: "bg-[#FFDE00]", border: "border-[#E6C800]", label: "bg-black text-[#FFDE00]",
                kanjiColor: "text-slate-900", kanjiFaint: "text-slate-900/30", backTextColor: "text-slate-900",
                readingBg: "bg-black/10", readingText: "text-slate-900", metaLabel: "text-slate-500",
                jishoBtn: "bg-slate-900 hover:bg-slate-800 text-white"
            } : {
                bg: "bg-[#BC002D]", border: "border-[#960024]", label: "bg-white text-[#BC002D]",
                kanjiColor: "text-white", kanjiFaint: "text-white/30", backTextColor: "text-white", 
                readingBg: "bg-white/20", readingText: "text-white", metaLabel: "text-white/70",
                jishoBtn: "bg-white hover:bg-slate-100 text-[#BC002D]"
            };

            const handleJishoClick = (e) => {
                e.stopPropagation();
                window.open(`https://jisho.org/search/${item.kanji}%20%23kanji`, '_blank');
            };

            const getCombinationFontSize = (str) => {
                if (str.length >= 4) return 'text-5xl';
                if (str.length === 3) return 'text-6xl';
                return 'text-8xl';
            };

            return (
                <div className="relative w-full h-[480px] perspective-1000">
                    <div className={`relative w-full h-full transition-all duration-700 transform-style-3d shadow-2xl rounded-3xl ${isFlipped ? 'rotate-y-180' : ''}`}>
                        
                        {/* Front */}
                        <div 
                            onClick={() => setIsFlipped(true)}
                            className={`absolute inset-0 backface-hidden ${theme.bg} border-8 ${theme.border} rounded-3xl flex flex-col items-center justify-center p-6 cursor-pointer overflow-hidden`}
                        >
                            <div className={`absolute top-6 right-6 px-4 py-1.5 rounded-full text-[12px] font-black uppercase tracking-widest shadow-lg ${theme.label}`}>
                                {item.type}
                            </div>
                            <div className={`w-full text-center px-4 kanji-font font-black drop-shadow-md tracking-tighter ${getCombinationFontSize(item.combination)}`}>
                                {item.combination.split('').map((char, index) => (
                                    <span key={index} className={char === item.kanji ? theme.kanjiColor : theme.kanjiFaint}>{char}</span>
                                ))}
                            </div>
                        </div>

                        {/* Back */}
                        <div className={`absolute inset-0 backface-hidden ${theme.bg} border-8 ${theme.border} rounded-3xl flex flex-col p-5 rotate-y-180 shadow-inner overflow-hidden justify-between`}>
                            <div onClick={() => setIsFlipped(false)} className="flex-grow cursor-pointer flex flex-col overflow-hidden">
                                <div className={`w-full mb-3 pb-3 border-b shrink-0 ${item.type === 'Kun' ? 'border-white/20' : 'border-black/10'}`}>
                                    <div className="flex justify-between items-start">
                                        <div className="flex flex-col gap-0.5">
                                            <div className={`text-3xl font-black tracking-tighter ${theme.backTextColor}`}>{item.combination}</div>
                                            <div className={`text-xl font-black italic ${item.type === 'Kun' ? 'text-white' : 'text-blue-900'}`}>{item.combReading}</div>
                                            <div className={`text-[11px] font-black uppercase tracking-widest opacity-80 ${theme.backTextColor}`}>{item.combMeaning}</div>
                                        </div>
                                        <button onClick={handleJishoClick} className={`w-10 h-10 rounded-full flex items-center justify-center shadow-lg ${theme.jishoBtn}`}>
                                            <i data-lucide="external-link" style={{width: 18, height: 18}}></i>
                                        </button>
                                    </div>
                                </div>

                                <div className="grid grid-cols-2 gap-3 w-full mb-3 shrink-0">
                                    <div>
                                        <span className={`text-[8px] font-black uppercase tracking-widest block mb-1 ${theme.metaLabel}`}>Betekenis</span>
                                        <div className={`text-sm font-black leading-tight ${theme.backTextColor}`}>
                                            {item.meaning.join(", ")}
                                        </div>
                                    </div>
                                    <div>
                                        <span className={`text-[8px] font-black uppercase tracking-widest block mb-1 ${theme.metaLabel}`}>{item.type}-lezing</span>
                                        <div className={`text-[11px] font-mono font-black ${theme.readingBg} ${theme.readingText} px-2 py-0.5 rounded-lg inline-block shadow-sm`}>
                                            {item.readings}
                                        </div>
                                    </div>
                                </div>

                                <div className="w-full flex-grow overflow-hidden flex flex-col">
                                    <span className={`text-[8px] font-black uppercase tracking-widest block mb-1 ${theme.metaLabel}`}>Voorbeeld</span>
                                    <div className={`flex-grow p-3 rounded-2xl border-2 shadow-sm overflow-y-auto ${item.type === 'Kun' ? 'bg-white/10 text-white border-white/20' : 'bg-white/40 text-slate-900 border-black/5'}`}>
                                        <div className="text-lg font-black leading-tight mb-1">{item.sentence}</div>
                                        <div className="text-[12px] font-bold italic opacity-80 mb-1">{item.romaji}</div>
                                        <div className="text-[12px] font-bold">{item.translation}</div>
                                    </div>
                                </div>
                            </div>

                            <div className="mt-4 flex gap-3 shrink-0">
                                <button onClick={(e) => { e.stopPropagation(); onPause(item.id); }} className="flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl bg-amber-500 hover:bg-amber-400 text-white border-b-4 border-amber-700 active:translate-y-1 active:border-b-0 transition-all shadow-md">
                                    <i data-lucide="eye-off" style={{width: 16, height: 16}}></i>
                                    <span className="text-[9px] font-black uppercase tracking-widest">Pauze</span>
                                </button>
                                <button onClick={(e) => { e.stopPropagation(); onDelete(item.id); }} className="flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl bg-rose-600 hover:bg-rose-500 text-white border-b-4 border-rose-800 active:translate-y-1 active:border-b-0 transition-all shadow-md">
                                    <i data-lucide="trash-2" style={{width: 16, height: 16}}></i>
                                    <span className="text-[9px] font-black uppercase tracking-widest">Wis</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        function App() {
            const [filter, setFilter] = useState('All');
            const [searchTerm, setSearchTerm] = useState('');
            const [limit, setLimit] = useState(24);
            const [pausedIds, setPausedIds] = useState([]);
            const [deletedIds, setDeletedIds] = useState(() => {
                const saved = localStorage.getItem('kanji_master_deleted');
                return saved ? JSON.parse(saved) : [];
            });
            const [version, setVersion] = useState(0);

            useEffect(() => {
                localStorage.setItem('kanji_master_deleted', JSON.stringify(deletedIds));
            }, [deletedIds]);

            useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            }, [version, filter, limit, searchTerm, pausedIds]);

            const displayData = useMemo(() => {
                const availableData = KANJI_DATA.filter(item => {
                    const isVisible = !pausedIds.includes(item.id) && !deletedIds.includes(item.id);
                    const matchesFilter = filter === 'All' || item.type === filter;
                    const normalizedSearch = searchTerm.toLowerCase();
                    return isVisible && matchesFilter && (
                        item.kanji.toLowerCase().includes(normalizedSearch) || 
                        item.combination.toLowerCase().includes(normalizedSearch) ||
                        item.readings.toLowerCase().includes(normalizedSearch) ||
                        item.meaning.some(m => m.toLowerCase().includes(normalizedSearch))
                    );
                });
                if (searchTerm) return availableData.slice(0, limit);
                return [...availableData].sort(() => Math.random() - 0.5).slice(0, limit);
            }, [version, filter, searchTerm, limit, pausedIds, deletedIds]);

            return (
                <div className="min-h-screen p-6 md:p-12">
                    <header className="max-w-7xl mx-auto mb-12 flex flex-col lg:flex-row lg:items-center justify-between gap-10">
                        <div>
                            <div className="flex items-center gap-5 mb-6">
                                <div className="bg-slate-900 p-4 rounded-[1.5rem] shadow-2xl rotate-3 border-4 border-white">
                                    <i data-lucide="graduation-cap" style={{width: 36, height: 36, color: 'white'}}></i>
                                </div>
                                <div>
                                    <h1 className="text-5xl font-black tracking-tighter text-slate-900 uppercase leading-none">Kanji<span className="text-rose-600">Flash</span></h1>
                                    <div className="flex gap-2 mt-2">
                                        <span className="bg-slate-900 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest text-white shadow-md">100 Tekens</span>
                                        <span className="bg-white px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest text-slate-400 shadow-sm border border-slate-200">Statische Versie</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="flex flex-col gap-6 w-full lg:w-[450px]">
                            <div className="relative">
                                <i data-lucide="search" className="absolute left-6 top-1/2 -translate-y-1/2 text-slate-400" style={{width: 20, height: 20}}></i>
                                <input type="text" placeholder="Zoek in 100 tekens..." className="w-full pl-14 pr-6 py-4 bg-white border-2 border-slate-200 rounded-2xl text-base font-bold focus:outline-none shadow-sm" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} />
                            </div>
                            <div className="bg-white p-6 rounded-3xl shadow-sm border border-slate-200 flex flex-col gap-4">
                                <input type="range" min="4" max="100" step="4" value={limit} onChange={(e) => setLimit(parseInt(e.target.value))} className="w-full h-2 bg-slate-100 rounded-lg appearance-none cursor-pointer accent-slate-900" />
                                <div className="flex gap-2">
                                    <div className="flex bg-slate-50 p-1 rounded-xl flex-grow">
                                        {['All', 'On', 'Kun'].map((type) => (
                                            <button key={type} onClick={() => setFilter(type)} className={`flex-1 py-2 rounded-lg text-[9px] font-black uppercase tracking-widest ${filter === type ? 'bg-white text-slate-900 shadow-sm' : 'text-slate-400'}`}>{type}</button>
                                        ))}
                                    </div>
                                    <button onClick={() => setVersion(v => v + 1)} className="bg-rose-600 text-white px-5 py-2 rounded-xl flex items-center gap-2 border-b-4 border-rose-800 active:translate-y-1 active:border-b-0 shadow-md">
                                        <i data-lucide="chevron-right" style={{width: 20, height: 20}}></i>
                                        <span className="text-[10px] font-black uppercase tracking-widest">Mix</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </header>

                    <div className="max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                        {displayData.map((item) => (
                            <KanjiTile key={`${item.id}-${version}`} item={item} onPause={(id) => setPausedIds(p => [...p, id])} onDelete={(id) => setDeletedIds(d => [...d, id])} />
                        ))}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>